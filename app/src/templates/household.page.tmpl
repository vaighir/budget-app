{{template "base" .}}

{{define "content"}}

<div class="container">
  <h1>{{index .StringMap "household_name"}}</h1>


  <div>
    <p>Invite a new household member (Feature coming soon)</p>
  </div>

  <div>

    <h2>Incomes</h2>

    <table class="table">
      <thead>
        <tr>
          <td>Income name</td>
          <td>Income amount</td>
          <td>Edit income</td>
          <td>Delete income</td>
        </tr>
      </thead>
      <tbody>
      {{range index .InterfaceMap "incomes"}}
        <tr>

          <form action="edit-income" method="post">
            <input type="hidden" name="income_id" id="income_id" value="{{.Id}}">

            <td>
              <input type="text" name="name" id="name" value="{{.Name}}" required>
            </td>

            <td>
              <input type="number" step="0.01" name="amount" id="amount" value="{{.Amount}}" required>
            </td>
            
            <td>
              <button type="submit" class="registerbtn">Edit</button>
            </td>

          </form>

          <td>
          <form action="delete-income" method="post">
          <input type="hidden" name="income_id" id="income_id" value="{{.Id}}">
          <button type="submit" class="registerbtn">Delete</button>
          </form>
          </td>
        
        </tr>
      {{end}}
      </tbody>
    </table>

    <p><b>Total income: {{index .FloatMap "total_income"}}</b></p>

    <div>
      <h4>Add income</h4>

      <form action="add-income" method="post">
      <hr>

        <label for="name"><b>Name</b></label>
        <input type="text" placeholder="Enter name" name="name" id="name" required>

        <label for="amount"><b>Amount</b></label>
        <input type="number" step="0.01" placeholder="Enter amount" name="amount" id="amount" required>

      <hr>
        <button type="submit" class="registerbtn">Add income</button>
      </form>
    </div>
  </div>

  <hr>

  <div>

    <h2>Savings</h2>

    <table class="table">
      <thead>
        <tr>
          <td>Savings name</td>
          <td>Savings amount</td>
          <td>Edit savings</td>
          <td>Delete savings</td>
        </tr>
      </thead>
      <tbody>
      {{range index .InterfaceMap "savings"}}
        <tr>

          <form action="edit-savings" method="post">
            <input type="hidden" name="savings_id" id="savings_id" value="{{.Id}}">

            <td>
              <input type="text" name="name" id="name" value="{{.Name}}" required>
            </td>

            <td>
              <input type="number" step="0.01" name="amount" id="amount" value="{{.Amount}}" required>
            </td>
            
            <td>
              <button type="submit" class="registerbtn">Edit</button>
            </td>

          </form>

          <td>
          <form action="delete-savings" method="post">
          <input type="hidden" name="savings_id" id="savings_id" value="{{.Id}}">
          <button type="submit" class="registerbtn">Delete</button>
          </form>
          </td>
        
        </tr>
      {{end}}
      </tbody>
    </table>

    <p><b>Total savings: {{index .FloatMap "total_savings"}}</b></p>

    <div>
      <h4>Add savings</h4>

      <form action="add-savings" method="post">
      <hr>

        <label for="name"><b>Name</b></label>
        <input type="text" placeholder="Enter name" name="name" id="name" required>

        <label for="amount"><b>Amount</b></label>
        <input type="number" step="0.01" placeholder="Enter amount" name="amount" id="amount" required>

      <hr>
        <button type="submit" class="registerbtn">Add savings</button>
      </form>
    </div>
  </div>

  <hr>

  <div>

    <h2>Funds</h2>

    <table class="table">
      <thead>
        <tr>
          <td>Fund name</td>
          <td>Fund amount</td>
          <td>Edit fund</td>
          <td>Delete fund</td>
        </tr>
      </thead>
      <tbody>
      {{range index .InterfaceMap "funds"}}
        <tr>

          <form action="edit-fund" method="post">
            <input type="hidden" name="fund_id" id="fund_id" value="{{.Id}}">

            <td>
              <input type="text" name="name" id="name" value="{{.Name}}" required>
            </td>

            <td>
              <input type="number" step="0.01" name="amount" id="amount" value="{{.Amount}}" required>
            </td>
            
            <td>
              <button type="submit" class="registerbtn">Edit</button>
            </td>

          </form>

          <td>
          <form action="delete-fund" method="post">
          <input type="hidden" name="fund_id" id="fund_id" value="{{.Id}}">
          <button type="submit" class="registerbtn">Delete</button>
          </form>
          </td>
        
        </tr>
      {{end}}
      </tbody>
    </table>

    <p><b>Total funds: {{index .FloatMap "total_funds"}}</b></p>

    <div>
      <h4>Add fund</h4>

      <form action="add-fund" method="post">
      <hr>

        <label for="name"><b>Name</b></label>
        <input type="text" placeholder="Enter name" name="name" id="name" required>

        <label for="amount"><b>Amount</b></label>
        <input type="number" step="0.01" placeholder="Enter amount" name="amount" id="amount" required>

      <hr>
        <button type="submit" class="registerbtn">Add fund</button>
      </form>
    </div>
  </div>

  <hr>

  <div>
    <h2>Emergency fund</h2>
    <p>In here you can decide how many months of your normal expenses you want to save for your emergency fund</p>
    {{index .IntMap "emergency_fund"}}
  </div>

  <div>

    <h2>Monthly expenses</h2>

    <table class="table">
      <thead>
        <tr>
          <td>Monthly expense name</td>
          <td>Monthly expense amount</td>
          <td>Edit monthly expense</td>
          <td>Delete monthly expense</td>
        </tr>
      </thead>
      <tbody>
      {{range index .InterfaceMap "monthly_expenses"}}
        <tr>

          <form action="edit-monthly-expense" method="post">
            <input type="hidden" name="monthly_expense_id" id="monthly_expense_id" value="{{.Id}}">

            <td>
              <input type="text" name="name" id="name" value="{{.Name}}" required>
            </td>

            <td>
              <input type="number" step="0.01" name="amount" id="amount" value="{{.Amount}}" required>
            </td>
            
            <td>
              <button type="submit" class="registerbtn">Edit</button>
            </td>

          </form>

          <td>
          <form action="delete-monthly-expense" method="post">
          <input type="hidden" name="monthly_expense_id" id="monthly_expense_id" value="{{.Id}}">
          <button type="submit" class="registerbtn">Delete</button>
          </form>
          </td>
        
        </tr>
      {{end}}
      </tbody>
    </table>

    <p><b>Total monthly expenses: {{index .FloatMap "total_monthly_expenses"}}</b></p>

    <div>
      <h4>Add monthly expense</h4>

      <form action="add-monthly-expense" method="post">
      <hr>

        <label for="name"><b>Name</b></label>
        <input type="text" placeholder="Enter name" name="name" id="name" required>

        <label for="amount"><b>Amount</b></label>
        <input type="number" step="0.01" placeholder="Enter amount" name="amount" id="amount" required>

      <hr>
        <button type="submit" class="registerbtn">Add monthly expense</button>
      </form>
    </div>
  </div>

</div>

{{end}}